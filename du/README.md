# DutliDutli

### 项目简介：基于 React + Dify 工作流 + MySQL 的生成式 AI 评论视频网站  

---

#### **项目概述**  
这是一个结合 **生成式 AI 技术** 与 **视频社区互动** 的创新视频网站，通过调用 **Dify 工作流 API** 实现 AI 自动生成视频评论，帮助用户快速提升视频内容吸引力。平台支持视频浏览、评论交互，并利用 AI 助力创作者优化内容生产，打造高互动的视频社区生态。  

---

#### **核心功能亮点**  
1. **AI 智能评论生成**  
   - 用户上传视频后，平台自动调用 **Dify 工作流 API**，基于视频描述（`video_text`）和编号（`video_num`）生成高质量评论，模拟真实用户口吻，增强互动性。  
   - 示例评论：  
     ```json
     {
       "videoId": "4",
       "content": "新手段子手都服了：绳网一甩，全区零粉秒变三连党！UP 主快开班教学！"
     }
     ```

2. **视频展示与互动**  
   - 首页展示热门视频列表，支持点击进入视频详情页。  
   - 视频详情页集成评论区，用户可手动提交评论，AI 评论与人工评论共存。  
   - 支持动态加载视频信息（标题、作者、播放量、时长等），并展示相关视频推荐。  

3. **Docker 容器化部署**  
   - 前端（React + Nginx）、后端（json-server 或 MySQL）、AI 评论生成脚本均通过 Docker 容器化管理，实现环境隔离与快速部署。  
   - 数据持久化：通过 `volumes` 挂载 `db.json` 或 MySQL 数据库，确保评论数据不丢失。  

---

#### **技术亮点**  
1. **React + TailwindCSS 前端**  
   - 使用 React 构建单页应用（SPA），结合 TailwindCSS 实现响应式布局，适配 PC 和移动端。  
   - 通过 `useState`、`useEffect` 管理页面状态，采用 `fetch` 调用本地 json-server 或 MySQL 接口获取数据。  

2. **Dify 工作流集成**  
   - Python 脚本定时调用 Dify 工作流 API，传递视频信息（`video_text`、`video_num`），解析流式响应中的 AI 生成评论，清洗 Unicode 编码后写入 `db.json` 或 MySQL。  
   - 支持动态配置 API 密钥和工作流 ID，确保安全性。  

3. **数据持久化与容器化**  
   - 使用 json-server 或 MySQL 存储视频与评论数据，通过 Docker Compose 编排服务，实现多容器协同：  
     - `react-app`：提供静态资源服务  
     - `json-server` / `mysql`：存储视频和评论  
     - `comment-generator`：定时运行 AI 评论生成脚本  
   - 持久化挂载目录：`build/`（前端静态文件）、`db.json`（数据库文件）或 MySQL 数据卷。  

4. **跨平台部署能力**  
   - 支持从 Windows 开发环境无缝迁移至 Linux 生产环境，通过 `scp` 或 `rsync` 复制项目文件，适配 Docker 容器化流程。  

---

#### **用户价值**  
- **创作者赋能**：通过 AI 自动生成评论，降低冷启动门槛，吸引更多真实互动。  
- **社区活跃度提升**：AI 评论与人工评论结合，营造活跃氛围，增强用户粘性。  
- **轻量级部署**：Docker 容器化方案简化部署流程，无需复杂配置即可运行完整服务。  

---

#### **未来扩展方向**  
1. **MySQL 迁移**  
   - 当前使用 `db.json`，可扩展为 MySQL 数据库，支持更大规模数据和事务管理。  

2. **多语言支持**  
   - 增加国际化（i18n）功能，覆盖全球用户。  

3. **用户认证与权限管理**  
   - 添加登录系统，区分创作者与观众，支持评论审核与反垃圾机制。  

4. **AI 内容审核**  
   - 调用 Dify 工作流或本地模型，对人工评论进行敏感词过滤与质量评估。  

5. **实时评论推送**  
   - 集成 WebSocket，实现 AI 评论生成后实时推送到前端。  

---

#### **结语**  
这个项目不仅是技术整合的实践，更是 AI 赋能内容创作的探索。通过 React 构建交互体验，Dify 工作流注入智能，Docker 容器化保障部署效率，我们实现了从开发到上线的完整闭环。欢迎体验，共同见证 AI 如何为视频社区注入活力！  

